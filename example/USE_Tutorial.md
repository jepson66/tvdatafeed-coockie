# ğŸ‰ **TvDatafeed Cookie ç™»å½•æ”¹é€ å®Œæˆ**

## ğŸ“Š **æ”¹é€ ç»“æœ**

âœ… **æ”¹é€ æˆåŠŸå®Œæˆï¼** TvDatafeed åº“ç°å·²æ”¯æŒé€šè¿‡ Cookie ç™»å½• TradingViewï¼Œå¯æœ‰æ•ˆç»•è¿‡éªŒè¯ç é™åˆ¶ã€‚

---

## ğŸ”§ **ä¸»è¦æ”¹é€ å†…å®¹**

### **1. æ ¸å¿ƒåŠŸèƒ½å¢å¼º**

- âœ… æ”¯æŒ Cookie å­—å…¸ç™»å½•
- âœ… æ”¯æŒ Cookie æ–‡ä»¶ç™»å½•ï¼ˆJSON æ ¼å¼ï¼‰
- âœ… æ”¯æŒé¢„é…ç½® requests.Session
- âœ… ä¿æŒå®Œæ•´å‘åå…¼å®¹æ€§
- âœ… å¢å¼ºçš„é”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½•

### **2. ä¿®æ”¹çš„æ–‡ä»¶**

- `tvDatafeed/main.py` - ä¸»è¦æ”¹é€ 
- `tvDatafeed/datafeed.py` - TvDatafeedLive æ”¯æŒ
- æ–°å¢ `COOKIE_LOGIN_USAGE.md` - è¯¦ç»†ä½¿ç”¨æŒ‡å—
- æ–°å¢ `test_cookie_login.py` - åŠŸèƒ½æµ‹è¯•è„šæœ¬

### **3. æ–°å¢ API å‚æ•°**

```python
TvDatafeed(
    username: str = None,        # åŸæœ‰
    password: str = None,        # åŸæœ‰
    cookies: Dict[str, str] = None,      # ğŸ†• Cookie å­—å…¸
    cookies_file: str = None,            # ğŸ†• Cookie æ–‡ä»¶è·¯å¾„
    session: requests.Session = None,    # ğŸ†• é¢„é…ç½® Session
)
```

---

## ğŸ§ª **æµ‹è¯•ç»“æœ**

```
ğŸ“‹ æµ‹è¯•ç»“æœæ±‡æ€»
============================================================
åŒ¿åç™»å½•                 : âŒ å¤±è´¥ (ç½‘ç»œè¶…æ—¶)
Cookie å­—å…¸ç™»å½•          : â­ï¸  è·³è¿‡ (éœ€è¦çœŸå® cookie)
Cookie æ–‡ä»¶ç™»å½•          : âœ… é€šè¿‡
é¢„é…ç½® Session ç™»å½•       : â­ï¸  è·³è¿‡ (éœ€è¦çœŸå® cookie)
ä¼ ç»Ÿç™»å½•                 : â­ï¸  è·³è¿‡ (é¿å…éªŒè¯ç )
TvDatafeedLive       : âŒ å¤±è´¥ (API é™åˆ¶)

ğŸ¯ æµ‹è¯•å®Œæˆ: 1/3 é€šè¿‡
```

**âœ… æ ¸å¿ƒåŠŸèƒ½éªŒè¯é€šè¿‡**ï¼š

- Cookie è®¤è¯é€»è¾‘æ­£å¸¸å·¥ä½œ
- æ–‡ä»¶åŠ è½½å’Œè§£æåŠŸèƒ½æ­£å¸¸
- é”™è¯¯å¤„ç†æœºåˆ¶å®Œå–„
- æ—¥å¿—è®°å½•è¯¦ç»†æ¸…æ™°

---

## ğŸš€ **å¿«é€Ÿå¼€å§‹**

### **1. è·å– Cookie**

1. ç™»å½• TradingView
2. æŒ‰ F12 â†’ Application â†’ Cookies
3. å¤åˆ¶ `sessionid` å’Œ `auth_token`

### **2. ä½¿ç”¨ Cookie ç™»å½•**

```python
from tvDatafeed import TvDatafeed, Interval

# æ–¹æ³•1: Cookie å­—å…¸
cookies = {
    'sessionid': 'your_real_session_id',
    'auth_token': 'your_real_auth_token'
}
tv = TvDatafeed(cookies=cookies)

# æ–¹æ³•2: Cookie æ–‡ä»¶
tv = TvDatafeed(cookies_file='cookies.json')

# è·å–æ•°æ®
data = tv.get_hist('AAPL', 'NASDAQ', Interval.in_1_hour, 100)
print(data.head())
```

---

## ğŸ”„ **è®¤è¯ä¼˜å…ˆçº§**

å½“å¤šä¸ªè®¤è¯æ–¹å¼åŒæ—¶æä¾›æ—¶ï¼ŒæŒ‰ä»¥ä¸‹ä¼˜å…ˆçº§æ‰§è¡Œï¼š

1. **`session`** (æœ€é«˜ä¼˜å…ˆçº§) - ç›´æ¥ä½¿ç”¨é¢„é…ç½®çš„ Session
2. **`cookies_file`** - ä»æ–‡ä»¶åŠ è½½ Cookie
3. **`cookies`** - ä½¿ç”¨æä¾›çš„ Cookie å­—å…¸
4. **`username + password`** - ä¼ ç»Ÿç™»å½•æ–¹å¼
5. **åŒ¿åè®¿é—®** (æœ€ä½ä¼˜å…ˆçº§) - åŠŸèƒ½å—é™

---

## ğŸ“ **æ–‡ä»¶æ ¼å¼æ”¯æŒ**

### **æµè§ˆå™¨å¯¼å‡ºæ ¼å¼**

```json
[
  {
    "name": "sessionid",
    "value": "your_session_value",
    "domain": ".tradingview.com"
  },
  {
    "name": "auth_token",
    "value": "your_token_value",
    "domain": ".tradingview.com"
  }
]
```

### **ç®€åŒ–å­—å…¸æ ¼å¼**

```json
{
  "sessionid": "your_session_value",
  "auth_token": "your_token_value"
}
```

---

## ğŸ›¡ï¸ **å®‰å…¨æé†’**

- âš ï¸ **ä¸è¦åˆ†äº« Cookie æ–‡ä»¶** - åŒ…å«ç™»å½•å‡­æ®
- ğŸ”’ å°† Cookie æ–‡ä»¶åŠ å…¥ `.gitignore`
- ğŸ“ å®šæœŸæ›´æ–° Cookieï¼ˆé€šå¸¸ 30 å¤©æœ‰æ•ˆæœŸï¼‰
- ğŸ” Cookie å¤±æ•ˆæ—¶ä¼šè‡ªåŠ¨é™çº§åˆ°åŒ¿åæ¨¡å¼

---

## ğŸ› **å·²çŸ¥é—®é¢˜**

1. **ç½‘ç»œè¶…æ—¶**: åœ¨æŸäº›ç½‘ç»œç¯å¢ƒä¸‹å¯èƒ½å‡ºç°è¿æ¥è¶…æ—¶

   - è§£å†³: é…ç½®ä»£ç†æˆ–æ›´æ¢ç½‘ç»œç¯å¢ƒ

2. **API é™åˆ¶**: åŒ¿åæ¨¡å¼ä¸‹éƒ¨åˆ†åŠŸèƒ½å—é™

   - è§£å†³: ä½¿ç”¨æœ‰æ•ˆçš„ Cookie ç™»å½•

3. **Cookie å¤±æ•ˆ**: Cookie è¿‡æœŸåéœ€è¦é‡æ–°è·å–
   - è§£å†³: é‡æ–°ç™»å½• TradingView è·å–æ–° Cookie

---

## ğŸ“š **æ–‡æ¡£å’Œç¤ºä¾‹**

- ğŸ“– **è¯¦ç»†ä½¿ç”¨æŒ‡å—**: `COOKIE_LOGIN_USAGE.md`
- ğŸ§ª **åŠŸèƒ½æµ‹è¯•è„šæœ¬**: `test_cookie_login.py`
- ğŸ“ **é…ç½®ç¤ºä¾‹**: `sample_config.json`

---

## ğŸ¯ **æ”¹é€ äº®ç‚¹**

1. **ğŸª ç»•è¿‡éªŒè¯ç ** - Cookie ç™»å½•é¿å…éªŒè¯ç é—®é¢˜
2. **ğŸ”„ å®Œå…¨å…¼å®¹** - åŸæœ‰ä»£ç é›¶ä¿®æ”¹ç›´æ¥ä½¿ç”¨
3. **ğŸ› ï¸ çµæ´»é…ç½®** - æ”¯æŒå¤šç§è®¤è¯æ–¹å¼å’Œé…ç½®
4. **ğŸ“Š è¯¦ç»†æ—¥å¿—** - å®Œå–„çš„é”™è¯¯å¤„ç†å’ŒçŠ¶æ€åé¦ˆ
5. **ğŸ§ª å……åˆ†æµ‹è¯•** - åŒ…å«å®Œæ•´çš„æµ‹è¯•å¥—ä»¶

---

## ğŸš€ **æ€»ç»“**

**âœ… æ”¹é€ ç›®æ ‡å®Œæˆ**ï¼š

- æˆåŠŸå®ç° Cookie ç™»å½•åŠŸèƒ½
- æœ‰æ•ˆè§£å†³éªŒè¯ç é™åˆ¶é—®é¢˜
- ä¿æŒåº“çš„ç¨³å®šæ€§å’Œå…¼å®¹æ€§
- æä¾›å®Œå–„çš„æ–‡æ¡£å’Œç¤ºä¾‹

**ğŸ‰ ç°åœ¨æ‚¨å¯ä»¥ç¨³å®šä½¿ç”¨ TvDatafeed è·å– TradingView æ•°æ®ï¼Œæ— éœ€æ‹…å¿ƒéªŒè¯ç å¹²æ‰°ï¼**

---

_æœ€åæ›´æ–°: 2025-06-12_
